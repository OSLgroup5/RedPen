<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>
    <h1>Hello, world!</h1>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        -->
    <a class="btn btn-primary" href="/register" role="button">goToRegister</a>

    <div class="input-group flex-nowrap">
        <span class="input-group-text" id="addon-wrapping">Username: </span>
        <input type="text" class="form-control" placeholder="Username" aria-label="Username"
            aria-describedby="addon-wrapping" id="idInput">
    </div>

    <div class="input-group flex-nowrap">
        <span class="input-group-text" id="addon-wrapping">password: </span>
        <input type="text" class="form-control" placeholder="PSWARD" aria-label="Username"
            aria-describedby="addon-wrapping" id="psInput">
    </div>

    <button type="button" class="btn btn-primary" id="loginButton">login</button>
</body>


<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
    let loginButton = document.querySelector("#loginButton");
    loginButton.addEventListener("click", () => {
        console.log("loginButton Clicked");
        let id = document.querySelector("#idInput").value;
        let pw = document.querySelector("#psInput").value;
        console.log(id);
        console.log(pw);
        $.ajax({
            url: "/login",
            type: 'post',
            data: { id: id, pw: pw },
            success: (data) => {
                // tmp = JSON.parse(data)
                // tmp.forEach((d)=>
                // {
                //     let child = document.createElement('div')
                //     child.innerHTML = d[0] + " "  + d[1];
                //     document.getElementById("scoreboard").appendChild(child)
                // })

                // console.log(data);
                window.action
                console.log(data);
                if (data === "good") window.location.replace('/logined')
                else {
                    alert("id or pw is wrong");
                }
                // window.location.lo
            }
        });
    })
    //     window.onload = ()=>
    //     {
    //         // console.log("loaded");
    //         $.ajax({
    //             url: "/getscoreboard",
    //             type: 'get',
    //             data: {},
    //             success : (data)=>
    //             {
    //                 tmp = JSON.parse(data)
    //                 tmp.forEach((d)=>
    //                 {
    //                     let child = document.createElement('div')
    //                     child.innerHTML = d[0] + " "  + d[1];
    //                     document.getElementById("scoreboard").appendChild(child)
    //                 })
    //             }
    //         });
    //     }
    // </script>

</html>